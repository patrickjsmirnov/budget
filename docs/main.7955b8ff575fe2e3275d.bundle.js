webpackJsonp([1,4],{137:function(t,e,o){"use strict";var n=o(0),r=o(459);o.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.saveRecordLocalStorage=function(t){localStorage.setItem(t.id.toString(),JSON.stringify(t))},t.prototype.getRecordLocalStorage=function(t){return localStorage.getItem(t)},t.prototype.saveRecordsLocalStorage=function(t){var e=this;t.forEach(function(t){return e.saveRecordLocalStorage(t)})},t.prototype.getRecords=function(){var t=this;return localStorage.length>0?(r.a.length=0,Object.keys(localStorage).forEach(function(e){r.a.push(JSON.parse(t.getRecordLocalStorage(e)))}),r.a.sort(function(t,e){return t.id-e.id})):r.a},t.prototype.validateRecord=function(t){return!(!t.quantity||!t.comment)&&(!(Math.abs(t.quantity)>1e3||0===t.quantity)&&!!/[а-яА-ЯёЁa-zA-Z0-9 .,;:!?'\/-]+$/.test(t.comment))},t.prototype.saveRecord=function(t){return!!this.validateRecord(t)&&(this.saveRecordLocalStorage(t),!0)},t.prototype.addNewRecord=function(t,e){return this.tempRecord={id:r.a.length+1,quantity:t,comment:e},!!this.saveRecord(this.tempRecord)&&(r.a.push(this.tempRecord),!0)},t.prototype.sumQuantityRecords=function(){return this.getRecords().map(function(t){return t.quantity}).reduce(function(t,e){return t+e},0)},t=a([o.i(n.d)(),i("design:paramtypes",[])],t)}()},344:function(t,e){function o(t){throw new Error("Cannot find module '"+t+"'.")}o.keys=function(){return[]},o.resolve=o,t.exports=o,o.id=344},345:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(433),r=o(0),a=o(460),i=o(454);a.a.production&&o.i(r.a)(),o.i(n.a)().bootstrapModule(i.a)},453:function(t,e,o){"use strict";var n=o(0);o.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(){this.title="Budget List"}return t=r([o.i(n.V)({selector:"app-root",template:o(617),styles:[o(613)]}),a("design:paramtypes",[])],t)}()},454:function(t,e,o){"use strict";var n=o(193),r=o(0),a=o(423),i=o(429),c=o(137),d=o(453),s=o(455),l=o(457),p=o(456);o.d(e,"a",function(){return g});var f=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(){}return t=f([o.i(r.b)({declarations:[d.a,s.a,l.a,p.a],imports:[n.a,a.a,i.a],providers:[c.a],bootstrap:[d.a],schemas:[r.c]}),u("design:paramtypes",[])],t)}()},455:function(t,e,o){"use strict";var n=o(0),r=o(137);o.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.recordService=t}return t.prototype.onSelect=function(t){this.selectedRecord=t,this.openFormFlag=!0,this.editFlag=!0,this.addFlag=!1},t.prototype.addRecord=function(){this.addFlag=!0,this.openFormFlag=!0,this.editFlag=!1},t.prototype.saveRecord=function(t){this.recordService.saveRecord(t)},t.prototype.onClosed=function(t){this.openFormFlag=!1},t.prototype.ngOnInit=function(){this.records=this.recordService.getRecords(),this.recordService.saveRecordsLocalStorage(this.records)},t.prototype.getRecords=function(){this.records=this.recordService.getRecords()},t=a([o.i(n.V)({selector:"app-budget-table",template:o(618),styles:[o(614)]}),i("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object])],t);var e}()},456:function(t,e,o){"use strict";var n=o(0),r=o(137);o.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.recordService=t}return t.prototype.ngOnInit=function(){this.currentSum=this.recordService.sumQuantityRecords()},t.prototype.update=function(){this.currentSum=this.recordService.sumQuantityRecords()},t=a([o.i(n.V)({selector:"app-header",template:o(619),styles:[o(615)]}),i("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object])],t);var e}()},457:function(t,e,o){"use strict";var n=o(0),r=o(458),a=o(137);o.d(e,"a",function(){return d});var i=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t){this.recordService=t,this.onClosed=new n.H}return t.prototype.ngOnInit=function(){this.correctData=!1},t.prototype.close=function(){this.onClosed.emit(!0),this.correctData=!1},t.prototype.saveRecord=function(t){this.recordService.saveRecord(t)?(this.record.comment="",this.record.quantity=null,this.correctData=!1):this.correctData=!0},t.prototype.addNewRecord=function(){this.recordService.addNewRecord(Number(this.quantityField),this.commentField)?(this.quantityField=null,this.commentField="",this.correctData=!1):this.correctData=!0},i([o.i(n.x)(),c("design:type","function"==typeof(e=void 0!==r.a&&r.a)&&e||Object)],t.prototype,"record",void 0),i([o.i(n.x)(),c("design:type",Boolean)],t.prototype,"addFlag",void 0),i([o.i(n.x)(),c("design:type",Boolean)],t.prototype,"openForm",void 0),i([o.i(n.x)(),c("design:type",Boolean)],t.prototype,"editFlag",void 0),i([o.i(n.U)(),c("design:type",Object)],t.prototype,"onClosed",void 0),t=i([o.i(n.V)({selector:"app-record-edit",template:o(620),styles:[o(616)]}),c("design:paramtypes",["function"==typeof(d=void 0!==a.a&&a.a)&&d||Object])],t);var e,d}()},458:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n=function(){function t(){}return t}()},459:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n=[{id:1,quantity:-100,comment:"bread"},{id:2,quantity:-120,comment:"milk"},{id:3,quantity:-150,comment:"chocolate"},{id:4,quantity:1500,comment:"scholarship"}]},460:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n={production:!0}},613:function(t,e){t.exports='@font-face{font-family:LatoRegular;src:url(assets/fonts/LatoRegular.woff) format("woff");font-style:normal;font-weight:400}@font-face{font-family:LatoBold;src:url(assets/fonts/LatoBold.woff) format("woff");font-style:normal;font-weight:400}h1{font-family:LatoBold}*{box-sizing:border-box}'},614:function(t,e){t.exports="*{box-sizing:border-box}.budget-table{border-collapse:collapse;width:100%;max-width:768px;font-family:LatoRegular;border-radius:10px;margin-top:20px}.budget-table th{background-color:#6c7ae0;color:#fff;font-family:LatoBold;font-size:18px;text-align:left;padding-top:18px;padding-bottom:18px}.budget-table th:first-of-type,.budget-table tr td:first-of-type{padding-left:20px;padding-right:20px;width:80px}.budget-table tr td:first-of-type{cursor:pointer}.budget-table th:nth-of-type(2),.budget-table tr td:nth-of-type(2){padding-right:20px;width:120px}.budget-table th:nth-of-type(3),.budget-table tr td:nth-of-type(3){padding-right:10px}.budget-table tr:nth-of-type(odd){background-color:#f8f6ff}.budget-table td{color:gray;padding-top:16px;padding-bottom:16px}.add-btn{height:48px;border:2px solid #6c7ae0;color:#fff;background-color:#fff;color:#6c7ae0;text-transform:uppercase;font-family:LatoBold;border-radius:4px;cursor:pointer;padding-left:15px;padding-right:15px}"},615:function(t,e){t.exports=".totals{font-family:LatoBold;font-size:18px;margin-bottom:20px}"},616:function(t,e){t.exports="*{box-sizing:border-box}.edit-component-wrapper{font-family:LatoRegular}.edit-form{padding:20px 30px;margin-bottom:20px;position:relative;border:1px solid #cacfd2;max-width:768px}.edit-form,.input-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.input-container{width:100%;max-width:300px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:10px}.text-input{height:25px;padding-left:5px;font-family:LatoRegular;border:2px solid #cacfd2;border-radius:3px;width:250px}.comment-field{height:100px}.label-text{color:gray;font-family:LatoBold}.form-button{color:#6e6e6e;width:118px;padding:7px 12px;background:#f3f3f3;border:1px solid #dcdcdc;border-radius:3px;cursor:pointer;font-family:LatoBold;text-transform:uppercase}.close-btn{display:block;position:absolute;right:10px;top:10px;width:17px;height:17px;background-image:url(assets/images/icons/close.svg);background-size:cover;cursor:pointer}.error-data{color:#a93226;font-size:15px;margin-top:0}"},617:function(t,e){t.exports="<h1>{{title}}</h1>\n<app-budget-table></app-budget-table>\n"},618:function(t,e){t.exports='<app-record-edit\n  [openForm]="openFormFlag"\n  [addFlag]="addFlag"\n  [editFlag]="editFlag"\n  [record]="selectedRecord"\n  (onClosed)="onClosed($event)">\n</app-record-edit>\n\n<button class="add-btn" (click)="addRecord()">Добавить новую запись</button>\n\n<table class="budget-table">\n  <thead>\n    <tr>\n      <th>id</th>\n      <th>Количество</th>\n      <th>Комментарий</th>\n    </tr>\n  </thead>\n\n  <tr *ngFor="let record of records"\n  [class.selected]="record === selectedRecord">\n    <td (click)="onSelect(record)">{{record.id}}</td>\n    <td>{{record.quantity}}</td>\n    <td>{{record.comment}}</td>\n  </tr>\n</table>\n'},619:function(t,e){t.exports='<div class="totals">Всего: <span>{{currentSum}}</span></div>\n'},620:function(t,e){t.exports='<div class="edit-component-wrapper">\n  <app-header #sum></app-header>\n  <div class="edit-form" *ngIf="openForm">\n    <span class="close-btn" (click)="close()"></span>\n      <label class="input-container">\n        <span class="label-text">Количество</span>\n        <input\n          class="text-input"\n          *ngIf="editFlag"\n          type="number"\n          [(ngModel)]="record.quantity"\n          placeholder="Количество"/>\n\n        <input\n          class="text-input"\n          *ngIf="addFlag"\n          [(ngModel)]="quantityField"\n          type="number"\n          placeholder="Количество"/>\n      </label>\n\n      <label class="input-container">\n        <span class="label-text">Комментарий</span>\n        <textarea\n          maxlength="512"\n          class="text-input comment-field"\n          *ngIf="editFlag"\n          type="text"\n          [(ngModel)]="record.comment"\n          placeholder="Комментарий">\n        </textarea>\n\n        <textarea\n          maxlength="512"\n          class="text-input comment-field"\n          *ngIf="addFlag"\n          [(ngModel)]="commentField"\n          type="text"\n          placeholder="Комментарий">\n        </textarea>\n      </label>\n\n      <p class="error-data" *ngIf="correctData">Введите корректные данные</p>\n\n      <button class="form-button" *ngIf="editFlag" (click)="saveRecord(record); sum.update()">Сохранить</button>\n      <button class="form-button" *ngIf="addFlag" (click)="addNewRecord(); sum.update()">Добавить</button>\n  </div>\n</div>\n'},634:function(t,e,o){t.exports=o(345)}},[634]);